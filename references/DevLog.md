# 开发日志记录

## 一、项目构建
- MinecraftForge官网中下载对应Minecraft版本的Forge的MDK文件，将下载好的zip格式文件解压内容至项目目录下
- 命令行执行gradlew genEclipseRuns，显示"BUILD SUCCESS"则成功；显示失败则需要重试，考虑网络问题导致失败
- 修改.gitignore，忽略规则中，下文会覆盖上文声明的忽略规则

## 二、文件结构组织
- common: 存储通用的方法和类(与Config有关)
  - core: 存储模组的核心方法和类(与Config无关)
- command: 存储指令
  - argument: 存储指令相关的参数判断
    - MRArgSeason: 季节相关
  - MRCmdTime: mrtime <set|info> [<season|month|solarterm>] [<"spring"|"jan"|"spring_begin">]
  - MRCmdHandler: 指令注册

## 三、核心功能
- 时间(time):
  - 季节(MRSeason):Enum=>四季，简单的枚举
  - 月份(MRMonth):Enum=>月份，简单的枚举
  - 节气(MRSolarTerm):Enum=>节气，简单的枚举
  - 时点(MRTimeDot):Class=>记录当前时间点
    - 记录当前的时间点，并在每次访问时更新，若时差产生时点变化，则执行相应属性的更新
    - 不设置线程安全，短时间产生的变化不大
- 灵气
	- 描述:一些特殊的植物在生长时会在周围[3*3]内产生的特殊物质。
	- 功能:可为一些特殊的器具提供能源。一些植物的基础生长要素，缺少该要素时植物会停止生长。
	- 属性:
		- 一级:灵空
		- 二级:灵金、灵木、灵火、灵水、灵土
		- 三级:待定
	- 浓度:
		- 飘渺，稀薄，充盈，浓郁
	- 特性:
		- 存在零级，但未被使用，灵虚
		- 浓度提升:同类型同浓度的灵气在一定范围[3*3]超过3份，浓度提升一个档次[只在判定时有效]
		- 相生提升:二级灵气中，若高浓度灵气范围内存在相生的低浓度灵气，该低浓度灵气提升一个档次[只在判定时有效]
		- 相克消减:二级灵气中，若高浓度灵气范围内存在相克的低浓度灵气，该低浓度灵气再降一个档次[只在判定时有效]
- 花盆:
    - 描述:此处指种产生灵气的花盆
    - 特性:
        - 根据相生相克原则: 花盆亦存在属性[属性盆]。属性相符时植物产生灵气浓度不变。属性相生时植物产生的灵气浓度提升。属性相克时产生的浓度消减，当消减为飘渺时植物会枯萎。
        - 只能种在特定的土壤，土壤不符无法存活
        - 符合[3*3]范围内的灵气条件时产生特性
    - 类型:
        - 木盆:
            - 适用:泥土
            - 数量:1
            - 特性:浓郁灵气时产生飘渺-灵木
- 盆栽:
	- 描述:此处指能产生灵气的植物
	- 植物:
        - 雪绒菊:
        	- 描述:生产基础灵气
        	- 需求:无
        	- 产生:稀薄-灵空
        - 青萝藤:
        	- 描述:生产基础木级灵气
        	- 需求:浓郁-灵空，稀薄-灵水
        	- 产生:稀薄-灵木，飘渺-灵空
      	- 烛心草:
        	- 需求:浓郁-灵空，稀薄-灵木
        	- 产生:稀薄-灵火，飘渺-灵空
      	- 落红梅:
        	- 需求:浓郁-灵空，稀薄-灵火
        	- 产生:稀薄-灵土，飘渺-灵空
      	- 子风藤:
        	- 需求:浓郁-灵空，飘渺-灵土
        	- 产生:稀薄-灵金，飘渺-灵空
      	- 水仙花:
        	- 需求:浓郁-灵空，飘渺-灵金
        	- 产生:稀薄-灵水，飘渺-灵空


## 四、功能实现
- 命令(Command):
    - 注册命令: 参考mcforge doc事件相关
    - 命令功能实现: 参考net.minecraft.command.impl.TimeCommand
      - 获取命令参数: 参考net.minecraft.command.arguments.TimeArgument
      - 命令推荐输入: 参考net.minecraft.command.arguments.TimeArgument::listSuggestions